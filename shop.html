<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>店舗アプリ</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="app-title">PayPay模擬アプリ</h1>
            <p class="shop-name">店舗向け</p>
        </header>

        <section id="qr-generate-section" class="card qr-display-section">
            <h2 class="section-title">QRコード発行</h2>
            <div class="input-group">
                <label for="amount">金額 (円)</label>
                <input type="number" id="amount" placeholder="金額を入力" value="1000">
            </div>
            <button id="generate-qr-button" class="primary-btn large-btn">QRコードを生成</button>
            <p class="small-text">※顧客が読み取ります</p>
        </section>

        <section id="qr-display-section" class="card qr-display-section hidden">
            <h2 class="section-title">顧客QR読み取り用</h2>
            <div class="qr-code-display">
                <canvas id="qr-code-canvas"></canvas>
            </div>
            <p class="qr-info">
                <span>取引金額: <strong id="qr-amount-display"></strong>円</span><br>
                <span>店舗ID: <strong id="shop-id-display"></strong></span><br>
                <span class="url-text" id="qrUrlText"></span>
            </p>

            <div id="payment-status-section" class="payment-status-section">
                <p class="status-pending"><span class="icon">⏳</span> 支払い待機中...</p>
                <p id="payment-complete-message" class="status-success hidden"><span class="icon">✅</span> 支払い完了！</p>
                <p id="transaction-id-display" class="small-text"></p>
            </div>
            <button id="back-to-main-button" class="toggle-btn large-btn">メインに戻る</button>
        </section>

        <section id="shop-history-section" class="card history-section">
            <h2 class="section-title">支払い完了履歴</h2>
            <ul id="shop-history-list">
                </ul>
            <button id="clear-shop-history" class="secondary-btn">履歴をリセット</button>
        </section>
    </div>

    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script src="shop_script.js"></script>
</body>
</html>
