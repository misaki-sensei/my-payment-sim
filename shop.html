<head>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
</head>

<body>
    <div class="container">
        <div id="mainShopSection" class="card">
            <div class="action-buttons" style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 20px;">
                <p>お客さまへの送金（返金・買取など）</p>
                <button id="startRemittanceBtn" class="secondary-btn" style="background-color: #ff9800; color: white;">
                    <span class="icon">💸</span> 送金する (QR読取)
                </button>
            </div>
        </div>

        <div id="shopScannerSection" class="section hidden card">
            <h2 class="section-title">お客さまのQRを読み取り</h2>
            <div class="camera-container">
                <div id="loadingMessage">🎥 カメラを起動中...</div>
                <video id="shopCameraVideo" playsinline="true"></video>
                <canvas id="shopQrCanvas" hidden></canvas>
            </div>
            <button id="cancelRemittanceBtn" class="secondary-btn">キャンセル</button>
        </div>

        <div id="remittanceAmountSection" class="section hidden card">
            <h2 class="section-title">送金金額の入力</h2>
            <p>送金先ID: <span id="targetUserIdDisplay" style="font-weight:bold;"></span></p>
            <div class="input-group">
                <span class="currency-symbol">¥</span>
                <input type="number" id="remittanceAmountInput" placeholder="0" inputmode="numeric">
            </div>
            <button id="confirmRemittanceBtn" class="primary-btn">送金を実行</button>
            <button id="backToScanBtn" class="secondary-btn">戻る</button>
        </div>
    </div>
</body>