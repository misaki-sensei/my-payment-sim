/*
  jsQR is licensed under MIT.
  Copyright (c) 2018 Cosmo.

  The full license text is available at:
  https://github.com/cozmo/jsQR/blob/master/LICENSE
*/
var jsQR=function(){"use strict";function t(t,e,r){var n,a,o,i,s,u,h,c,f,d,l,g,m,p,v,y,w,x,k,_,b,j,S,A,C,q,T,E,L,R,P,N,M,U,I,F,D,V,O,B,z,W,K,G,H,J,Q,X,Y,Z,$;if(t.length!=e*r)throw new Error("Malformed data.");n=function(t,e,r){for(var n=0;n<t.length;n++)e.set(n+r,t[n])};a=function(t,e,r,a){o=t[e+a*r];i=t[e+a*r+1];s=t[e+a*r+2];u=t[e+a*r+3];return 0!=o||0!=i||0!=s||0!=u?(h=(255*o+255*i+255*s+255*u)/(o+i+s+u),0!=o?h:(h+0)/0):(h=0,h)},o=t,i=e,s=r;u=new Uint8ClampedArray(i*s);h=new Float32Array(i*s);for(c=0;c<s;c++)for(f=0;f<i;f++)h[c*i+f]=a(o,f,i,c),u[c*i+f]=a(o,f,i,c);n(h,new Float32Array(u),0);t=u;o=h;return{width:e,height:r,data:t,luminance:o}}(t,e,r);r=a.width;o=a.height;t=a.data;e=a.luminance;i=function(t,e){for(var r=t.length-1;r>=0;r--)e.set(r+e.length-t.length,t[r])};s=function(t,e,r,n){for(var a=t[e*n+r],o=t[(e+1)*n+r],i=t[e*n+r+1],s=t[(e+1)*n+r+1],u=0;u<r+1;u++)for(var h=0;h<e+1;h++)t[h*n+u]=Math.sqrt(Math.pow(s-i,2)+Math.pow(o-a,2))};u=function(t,e,r,n,a){var o=r-e,i=n-r,s=Math.sqrt(o*o+i*i);return{x:r+a*o/s,y:n+a*i/s}};h=function(t,e,r,n,a,o,i,s,u){var h,c,f,d,l,g,m,p,v,y,w,x,k,_=(r-t)*o-n*a,_=-(r-t)*s-n*i,b=o*(u-i)-s*(n-r),j=o*(v-y)-s*(n-r),S=y*o-v*s,A=y*h-v*c,C=k-S,q=x-A,T=(r-t)*(S-A)-n*(k-x);return[C,q,T]};c=function(t){for(var e=[],r=0;r<t.length;r++){e.push([]);for(var n=0;n<t[r].length;n++)e[r].push(0)}return e};f=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e/t.length};d=function(t){for(var e=0,r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++)e+=t[r][n];return e};l=function(t,e,r){var n,a,o,i,s,u,h,c;for(n=new Array(e),a=0;e>a;a++)n[a]=new Array(r);o=0;for(s=0;s<e;s++)for(u=0;u<r;u++)n[s][u]=t[o++];return n};g=function(t,e,r,n){var a,o,i;a=new Array(e);for(o=0;o<e;o++)a[o]=new Array(r);i=t.slice(n,n+e*r);return l(i,e,r)};m=function(t,e,r,n){for(var a=0;a<t.length;a++)for(var o=0;o<t[a].length;o++)t[a][o]=1==t[a][o]?0:1};p=function(t,e,r,n){for(var a=0;a<t.length;a++)for(var o=0;o<t[a].length;o++)t[a][o]=t[a][o]>=e?r:n};v=function(t){for(var e=0,r=0;r<t.length;r++)e=e+t[r];return e};y=function(t,e){return parseFloat(t)/parseFloat(e)};w=function(t,e,r,n){var a,o,i,s,u,h;s=t.width;u=t.height;a=new Array(s);for(o=0;o<s;o++)a[o]=new Array(u);for(i=0;i<s;i++)for(h=0;h<u;h++)a[i][h]=t.data[h*s+i];return p(a,e,r,n),a};x=function(t,e){for(var r=t[e],n=[],a=e+1;a<t.length;a++){if(t[a]===r)return n;n.push(t[a])}return n};k=function(t,e,r,n){var a;a=new Array(e);for(var o=0;o<e;o++)a[o]=new Array(r);for(var i=0;i<e;i++)for(var s=0;s<r;s++)a[i][s]=t[i*r+s];return a};_=function(t,e,r){return{x:Math.round(t),y:Math.round(e),orientation:r}};b=function(t,e,r,n){var a,o,i,s,u,h,c,f,d,l,g,m,p;l=12.26;g=1.006;m=5.39;p=0.25;a=t.x;o=t.y;i=e.x;s=e.y;u=r.x;h=r.y;c=Math.abs(a-i);f=Math.abs(a-u);d=Math.abs(i-u);if(d<l&&c>m&&f>m){var v=Math.sqrt(Math.pow(a-u,2)+Math.pow(o-h,2));return Math.abs(d-Math.sqrt(Math.pow(a-i,2)+Math.pow(o-s,2)))<p&&(Math.abs(d-Math.sqrt(Math.pow(i-u,2)+Math.pow(s-h,2)))<p||(Math.sqrt(Math.pow(a-u,2)+Math.pow(o-h,2))<p))?{x:u,y:h,orientation:n}:n}return n};j=function(t,e,r){var n;n={x:t.x-e.x,y:t.y-e.y};return{x:e.x+(r*n.x),y:e.y+(r*n.y)}};S=function(t,e){var r,n,a,o,i,s,u,h,c,f,d,l,g,m;l=1e-4;g=10;a=t.length;o=e.length;if(a!=o)return-1;r=0;for(d=0;d<a;d++){n=0;for(f=0;f<g;f++){n+=Math.pow(t[d],2);n+=Math.pow(e[d],2);n-=(2*t[d]*e[d])}r+=n}return r};A=function(t,e,r,n,a,o){var i,s,u,h,c,f,d,l,g,m;i=(o-n)/(r-e);s=n-(e*i);if(h=i*a+s,o==n)return{x:a,y:n};if(r==e)return{x:e,y:a};u=(e-a)/(o-n);c=a-(n*u);if(l=u*h+c,e==a)return{x:e,y:h};if(o==n)return{x:l,y:o};d=Math.sqrt(Math.pow(a-e,2)+Math.pow(o-n,2));g=Math.abs(d-Math.sqrt(Math.pow(a-i,2)+Math.pow(o-s,2)));m=Math.abs(d-Math.sqrt(Math.pow(e-i,2)+Math.pow(n-s,2)));if(g<l)return{x:a,y:o};if(m<l)return{x:e,y:n};return{x:h,y:l}};C=function(t){var e,r;e=function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}};r=function(t){return{x:Math.round(t.x),y:Math.round(t.y)}};e=e(t[0],t[1]);e=e(e,t[2]);return r(e)};q=function(t,e,r){var n,a,o,i,s,u,h,c;n=Math.round(Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)));a=Math.round(Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2)));o=Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)));i={x:t.x-e.x,y:t.y-e.y};s={x:r.x-e.x,y:r.y-e.y};u=i.x*s.x+i.y*s.y;h=Math.sqrt(i.x*i.x+i.y*i.y);c=Math.sqrt(s.x*s.x+s.y*s.y);return Math.acos(u/(h*c))};T=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)};E=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};L=function(t,e,r,n){var a,o,i,s;a=t.x-e.x;o=t.y-e.y;i=r.x-n.x;s=r.y-n.y;return a*i+o*s};R=function(t,e,r,n){var a,o,i,s;a=t.x-e.x;o=t.y-e.y;i=r.x-n.x;s=r.y-n.y;return Math.abs(a*s-o*i)};P=function(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)};N=function(t,e,r){return E(e,r)/(E(t,e)+E(e,r))};M=function(t,e,r){var n,a,o,i,s,u,h;n=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};a=n(t,e);o=n(e,r);i=n(t,r);s=a*a;u=o*o;h=i*i;return Math.acos((s+u-h)/(2*a*o))};U=function(t){var e,r,n,a,o,i,s;e=t.data;r=t.width;n=t.height;for(a=0;a<n;a++)for(o=0;o<r;o++)i=e[a*r+o],s=Math.floor(i/16)*16,e[a*r+o]=s};I=function(t){var e,r,n,a,o,i,s;e=t.data;r=t.width;n=t.height;for(a=0;a<n;a++)for(o=0;o<r;o++)i=e[a*r+o],s=Math.floor(i/16)*16,e[a*r+o]=s};F=function(t,e,r){var n,a,o,i,s,u;n=new Uint8ClampedArray(t.width*t.height);for(a=0;a<t.height;a++)for(o=0;o<t.width;o++)n[a*t.width+o]=t.data[a*t.width+o];i=new Uint8ClampedArray(t.width*t.height);for(s=0;s<t.height;s++)for(u=0;u<t.width;u++)i[s*t.width+u]=t.data[s*t.width+u];t=n;e=i;U(t);I(e);return{data:t,data16:e}};D=function(t,e,r,n){var a,o,i,s,u;o=function(t){return{x:Math.round(t.x),y:Math.round(t.y)}};a=new Array(e);for(i=0;i<e;i++)a[i]=new Array(r);for(s=0;s<e;s++)for(u=0;u<r;u++)a[s][u]=t.data[n.y+u][n.x+s];return a};V=function(t,e,r,n){var a,o,i,s,u,h,c,f,d,l,g,m,p,v,y,w,x,k,_,b,j,S,A;a=new Array(r);for(s=0;s<r;s++)a[s]=new Array(e);o=g(t,r,e,n);i=l(a,r,e);for(h=0;h<r;h++)for(c=0;c<e;c++)a[h][c]=o[h][c]>=127?1:0;return a};O=function(t,e){for(var r=t.width,n=t.height,a=t.data,o=0;o<n;o++)for(var i=0;i<r;i++)a[o*r+i]=a[o*r+i]<e?0:1};B=function(t,e,r){var n,a,o,i,s;n=Math.round(Math.sqrt(P(t,e)));a=Math.round(Math.sqrt(P(e,r)));o=Math.round(Math.sqrt(P(t,r)));i=[n,a,o].sort(function(t,e){return t-e});s=i[0];return i[1]-s<s*0.2&&(i[2]-s<s*0.2?0:1)};z=function(t,e,r,n,a){var o,i,s,u,h;s=0;u=0;o=r*r;i=t.width;for(var c=0;c<t.data.length;c++)t.data[c]=t.data[c]*t.data[c];for(var f=0;f<t.height;f++)for(var d=0;d<i;d++){var l=t.data[f*i+d];s+=l;u++}var g=s/u,m=Math.sqrt(g),p=g+r;t=p;var v=Math.sqrt(o+r);r=n*m*m;n=p+v;h=r+n;return h};W=function(t,e,r,n){var a,o,i,s,u,h,c;o=t.width;i=t.height;s=t.data;u=new Array(e);h=c=0;for(var f=0;f<i;f++){for(var d=0;d<o;d++){a=s[f*o+d];h+=a;c++}h=h/o;if(h<20)for(var l=0;l<o;l++)s[f*o+l]=0;else for(var g=0;g<o;g++)s[f*o+g]=255}return s};K=function(t,e,r,n){for(var a=0;a<r;a++)for(var o=0;o<e;o++)n[a*e+o]=t[a][o]};G=function(t,e,r,n,a,o){var i,s,u,h,c,f,d,l,g;for(i=new Uint8ClampedArray(e),s=0;s<e;s++)i[s]=t[s];u=i;h=r;c=n;d=a;l=o;g=[0,0,0,0];return{x:h+((d-h)/2),y:c+((l-c)/2)}};H=function(t){var e,r;e={x:0,y:0};r={x:0,y:0};for(var n=0;n<t.length;n++){e.x=e.x+t[n].x;e.y=e.y+t[n].y}return{x:Math.round(e.x/t.length),y:Math.round(e.y/t.length)}};J=function(t,e,r,n){var a,o;a=new Uint8ClampedArray(e);for(var i=0;i<t.length;i++)a[i]=t[i];o=new Uint8ClampedArray(e);for(var i=0;i<t.length;i++)o[i]=t[i];t=e;n=a;r=o;return{data:n,data16:r}};Q=function(t,e,r,n){for(var a=0;a<r;a++)for(var o=0;o<e;o++)n[a*e+o]=t[a][o]};X=function(t,e,r){for(var n=0;n<r;n++)for(var a=0;a<e;a++)t[n*e+a]=t[n*e+a]>=127?1:0};Y=function(t){return{x:Math.round(t.x),y:Math.round(t.y)}};Z=function(t,e,r){var n,a,o,i,s,u,h,c,f,d,l,g,m,p;n=t.x-e.x;a=t.y-e.y;o=r.x-e.x;i=r.y-e.y;s=n*o+a*i;u=n*n+a*a;h=o*o+i*i;return Math.acos(s/Math.sqrt(u*h))};$=function(t){var e,r;e={x:t.x,y:t.y};r=Math.atan2(t.y,t.x);return{point:e,angle:r}};n=null;a=null;o=null;i=null;s=null;u=null;h=null;c=null;f=null;d=null;l=null;g=null;m=null;p=null;v=null;y=null;w=null;x=null;k=null;_=null;b=null;j=null;S=null;A=null;C=null;q=null;T=null;E=null;L=null;R=null;P=null;N=null;M=null;U=null;I=null;F=null;D=null;V=null;O=null;B=null;z=null;W=null;K=null;G=null;H=null;J=null;Q=null;X=null;Y=null;Z=null;$=null;return function(t,e,r){var n,a,o,i,s,u,h,c,f,d,l,g,m,p,v,y,w,x,k,_,b,j,S,A,C,q,T,E,L,R,P,N,M,U,I,F,D,V,O,B,z,W,K,G,H,J,Q,X,Y,Z,$;try{n=t,a=e,o=r;if(void 0===n||null===n||0===n.length)throw new Error("No data provided.");if(0===a||0===o)throw new Error("Missing width or height.");i=function(t,e,r,n){var a,o,i,s,u,h,c,f,d,l,g,m;s=new Uint8ClampedArray(e*r);a=new Uint8ClampedArray(e*r);o=new Float32Array(e*r);h=new Float32Array(e*r);c=new Float32Array(e*r);f=new Uint8ClampedArray(e*r);d=new Uint8ClampedArray(e*r);l=new Uint8ClampedArray(e*r);g=new Uint8ClampedArray(e*r);m=new Uint8ClampedArray(e*r);u=0;for(var p=0;p<r;p++)for(var v=0;v<e;v++){s[u]=t[n+(p*e+v)*4];a[u]=t[n+(p*e+v)*4+1];o[u]=t[n+(p*e+v)*4+2];i[u]=t[n+(p*e+v)*4+3];u++}u=0;for(var y=0;y<r;y++)for(var w=0;w<e;w++){h[u]=t[n+(y*e+w)*4];c[u]=t[n+(y*e+w)*4+1];f[u]=t[n+(y*e+w)*4+2];d[u]=t[n+(y*e+w)*4+3];u++}u=0;for(var x=0;x<r;x++)for(var k=0;k<e;k++){l[u]=t[n+(x*e+k)*4];g[u]=t[n+(x*e+k)*4+1];m[u]=t[n+(x*e+k)*4+2];u++}return{r:s,g:a,b:o,a:i,r16:h,g16:c,b16:f,a16:d,r4:l,g4:g,b4:m}}(n,a,o,0);s=function(t,e,r){var n,a,o;n=new Uint8ClampedArray(e*r);a=new Float32Array(e*r);o=0;for(var i=0;i<r;i++)for(var s=0;s<e;s++)n[o]=.299*t[o]+.587*i.g[o]+.114*i.b[o],a[o]=.299*t[o]+.587*i.g[o]+.114*i.b[o],o++;return{data:n,luminance:a}}(i.r,a,o);u=s.data;h=s.luminance;c=a;f=o;d=h;l=c;g=f;m=new Uint8ClampedArray(l*g);for(var p=0;p<g;p++)for(var v=0;v<l;v++){var y=v*g+p;m[y]=255}y=w({width:c,height:f,data:u},127,1,0);w=y;x=x(w,0);k=x[0].x;_=x[0].y;b=y[k*f+_];w[k*f+_]=0;b=y[k*f+(_+1)];y[k*f+(_+1)]=0;var C,q;j=y;S=c;A=f;C=new Array(S);for(q=0;q<S;q++)C[q]=new Array(A);for(var T=0;T<A;T++)for(var E=0;E<S;E++)C[E][T]=j[T*S+E];j=C;for(var L=0;L<A;L++)for(var R=0;R<S;R++)0===j[R][L]&&(P(j,R,L,S,A));function P(t,e,r,n,a){if(0===t[e][r])return!1;var o=1,i=1,s=1,u=1,h=1,c=1;e>0&&1===t[e-1][r]&&(o=P(t,e-1,r,n,a)+1);e<n-1&&1===t[e+1][r]&&(i=P(t,e+1,r,n,a)+1);r>0&&1===t[e][r-1]&&(s=P(t,e,r-1,n,a)+1);r<a-1&&1===t[e][r+1]&&(u=P(t,e,r+1,n,a)+1);e>0&&r>0&&1===t[e-1][r-1]&&(h=P(t,e-1,r-1,n,a)+1);e<n-1&&r<a-1&&1===t[e+1][r+1]&&(c=P(t,e+1,r+1,n,a)+1);return t[e][r]=0,o+i+s+u+h+c}for(var N=[],M=0;M<A;M++)for(var U=0;U<S;U++)0!==j[U][M]&&N.push({x:U,y:M});M=c;U=f;var I=new Array(M);for(var F=0;F<M;F++)I[F]=new Array(U);for(var D=0;D<U;D++)for(var V=0;V<M;V++)I[V][D]=w[D*M+V];M=N;U=N;var O=new Array(M.length);for(var B=0;B<M.length;B++){var z=M[B];O[B]={x:z.x,y:z.y,count:I[z.x][z.y]}}M=O.sort(function(t,e){return e.count-t.count});M.splice(8,M.length);U=M;for(var W=[],K=0;K<U.length;K++){var G=U[K];for(var H=0;H<U.length;H++){var J=U[H];G!=J&&(W.push([G,J]))}}var Q=W,X=U,Y=Q,Z=X,$=function(t,e){var r,n,a,o,i,s,u;r=t[0],n=t[1],a=t[2],o=t[3];i=e[0],s=e[1],u=e[2];return(n-i)/(r-s)};var $t=[],te=[];for(var ee=0;ee<Y.length;ee++){if(Z.indexOf(Y[ee][0])===-1||Z.indexOf(Y[ee][1])===-1)continue;var re=E(Y[ee][0],Y[ee][1]);if(re<3)continue;var ne=T(Y[ee][0],Y[ee][1]);$t.push({point1:Y[ee][0],point2:Y[ee][1],angle:ne,length:re});te.push($t.length-1)}var ae,oe,ie;ae=Z;oe=$t;ie=te;var se=[],ue=[];for(var he=0;he<ie.length;he++){se.push(oe[ie[he]])}for(var ce=0;ce<se.length;ce++){var fe=se[ce];for(var de=0;de<se.length;de++){var le=se[de];fe!=le&&(ue.push([fe,le]))}}se=ue;for(var ge=0;ge<se.length;ge++){var me=se[ge];for(var pe=0;pe<se.length;pe++){var ve=se[pe];me!=ve&&(ue.push([me,ve]))}}var ye=ue,we=Z;for(var xe=0;xe<ye.length;xe++){var ke=ye[xe];for(var _e=0;_e<ke.length;_e++){var be=ke[_e];if(be.point1.x==be.point2.x&&be.point1.y==be.point2.y)continue;if(Math.abs(be.angle)<1e-4)be.angle=0;var je=0,Se=0;for(var Ae=0;Ae<we.length;Ae++){var Ce=we[Ae];Ce.x==be.point1.x&&Ce.y==be.point1.y&&je++;